(function(){var t,e,o,r,n,a;o=function(){function t(t){this.notional=m.prop(t.notional),this.rate=m.prop(t.rate),this.months=m.prop(t.months),this.speed_type=m.prop(t.speed_type),this.speed_amt=m.prop(t.speed_amt),this.price=m.prop(t.price)}return t}(),n=function(){function t(t){var e;this.amortization_schedule=m.prop(function(){var o,m,r,n;for(r=JSON.parse(t.amortization_schedule),n=[],o=0,m=r.length;o<m;o++)e=r[o],n.push(e);return n}()),this.yield=m.prop(t.yield),this.wal=m.prop(t.wal),this.mod_dur=m.prop(t.mod_dur),this.macaulay_dur=m.prop(t.macaulay_dur)}return t}(),a={mortgage:m.prop(new o({notional:1e6,rate:5,months:360,speed_type:"CPR",speed_amt:0,price:100})),result:m.prop()},e={controller:function(){return{submit:function(t){return t.preventDefault(),m.request({method:"POST",url:"api/calculate",type:n,data:a.mortgage()}).then(function(t){return a.result(t)})}}},view:function(t){return m("div",[m(".row",[m(".col-md-6 col-md-offset-3",[m("form",[m(".form-group",[m("label",{for:"notional"},"Notional"),m("input",{type:"number",class:"form-control",id:"notional",value:a.mortgage().notional()})]),m(".form-group",[m("label",{for:"rate"},"Rate"),m("input",{type:"number",class:"form-control",id:"rate",value:a.mortgage().rate()})]),m(".form-group",[m("label",{for:"months"},"Months"),m("input",{type:"number",class:"form-control",id:"months",value:a.mortgage().months()})]),m(".form-group",[m("label",{for:"speed_type"},"Speed Type"),m("select",{class:"form-control",id:"speed_type",value:a.mortgage().speed_type()},[m("option","CPR"),m("option","PSA"),m("option","SMM")])]),m(".form-group",[m("label",{for:"speed_amt"},"Speed Amount"),m("input",{type:"number",class:"form-control",id:"speed_amt",value:a.mortgage().speed_amt()})]),m(".form-group",[m("label",{for:"price"},"Price"),m("input",{type:"number",class:"form-control",id:"price",value:a.mortgage().price()})]),m("button",{type:"submit",class:"btn btn-default",onclick:t.submit},"Get Bond Analytics")])])])])}},r={view:function(t){var e;return m("div",[null!=a.result()?m("div",[m("h3","Amortization Schedule"),m("table",{class:"table table-striped"},[m("thead",[m("tr",[m("td","Sched Pmt"),m("td","Interest"),m("td","Reg Prin"),m("td","Prepayment"),m("td","Total Prin"),m("td","Balance"),m("td","Total Pmt")])]),m("tbody",[function(){var t,o,r,n;for(r=a.result().amortization_schedule(),n=[],t=0,o=r.length;t<o;t++)e=r[t],console.log(e),n.push(m("tr",[m("td",e.sched_pmt),m("td",e.interest),m("td",e.reg_prin),m("td",e.prepayment),m("td",e.total_prin),m("td",e.balance),m("td",e.total_pmt)]));return n}()])])]):void 0])}},t={view:function(t){return m("div",[m.component(e),m.component(r)])}},m.mount(document.getElementById("calculator"),t)}).call(this);